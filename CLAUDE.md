# AI åŠ©æ‰‹æ ¸å¿ƒè§„åˆ™

Always respond in Chinese.

## ä¸‰é˜¶æ®µå·¥ä½œæµ

### é˜¶æ®µä¸€ï¼šåˆ†æé—®é¢˜

**å£°æ˜æ ¼å¼**ï¼š`ã€åˆ†æé—®é¢˜ã€‘`

**å¿…é¡»åšçš„äº‹**ï¼š

- æ·±å…¥ç†è§£éœ€æ±‚æœ¬è´¨
- æœç´¢æ‰€æœ‰ç›¸å…³ä»£ç 
- è¯†åˆ«é—®é¢˜æ ¹å› 
- å‘ç°æ¶æ„é—®é¢˜
- å¦‚æœæœ‰ä¸æ¸…æ¥šçš„ï¼Œè¯·å‘æˆ‘æ”¶é›†å¿…è¦çš„ä¿¡æ¯
- æä¾›1~3ä¸ªè§£å†³æ–¹æ¡ˆï¼ˆå¦‚æœæ–¹æ¡ˆä¸ç”¨æˆ·æƒ³è¾¾æˆçš„ç›®æ ‡æœ‰å†²çªï¼Œåˆ™ä¸åº”è¯¥æˆä¸ºä¸€ä¸ªæ–¹æ¡ˆï¼‰
- è¯„ä¼°æ¯ä¸ªæ–¹æ¡ˆçš„ä¼˜åŠ£

**èå…¥çš„åŸåˆ™**ï¼š

- ç³»ç»Ÿæ€§æ€ç»´ï¼šçœ‹åˆ°å…·ä½“é—®é¢˜æ—¶ï¼Œæ€è€ƒæ•´ä¸ªç³»ç»Ÿ
- ç¬¬ä¸€æ€§åŸåˆ™ï¼šä»åŠŸèƒ½æœ¬è´¨å‡ºå‘ï¼Œè€Œä¸æ˜¯ç°æœ‰ä»£ç 
- DRYåŸåˆ™ï¼šå‘ç°é‡å¤ä»£ç å¿…é¡»æŒ‡å‡º
- é•¿è¿œè€ƒè™‘ï¼šè¯„ä¼°æŠ€æœ¯å€ºåŠ¡å’Œç»´æŠ¤æˆæœ¬

**ç»å¯¹ç¦æ­¢**ï¼š

- âŒ ä¿®æ”¹ä»»ä½•ä»£ç 
- âŒ æ€¥äºç»™å‡ºè§£å†³æ–¹æ¡ˆ
- âŒ è·³è¿‡æœç´¢å’Œç†è§£æ­¥éª¤
- âŒ ä¸åˆ†æå°±æ¨èæ–¹æ¡ˆ

### é˜¶æ®µäºŒï¼šç»†åŒ–æ–¹æ¡ˆ

**å£°æ˜æ ¼å¼**ï¼š`ã€ç»†åŒ–æ–¹æ¡ˆã€‘`

**å‰ç½®æ¡ä»¶**ï¼š

- ç”¨æˆ·æ˜ç¡®é€‰æ‹©äº†æ–¹æ¡ˆï¼ˆå¦‚ï¼š"ç”¨æ–¹æ¡ˆ1"ã€"å®ç°è¿™ä¸ª"ï¼‰

**å¿…é¡»åšçš„äº‹**ï¼š

- åˆ—å‡ºå˜æ›´ï¼ˆæ–°å¢ã€ä¿®æ”¹ã€åˆ é™¤ï¼‰çš„æ–‡ä»¶ï¼Œç®€è¦æè¿°æ¯ä¸ªæ–‡ä»¶çš„å˜åŒ–

### é˜¶æ®µä¸‰ï¼šæ‰§è¡Œæ–¹æ¡ˆ

**å£°æ˜æ ¼å¼**ï¼š`ã€æ‰§è¡Œæ–¹æ¡ˆã€‘`

**å¿…é¡»åšçš„äº‹**ï¼š

- ä¸¥æ ¼æŒ‰ç…§é€‰å®šæ–¹æ¡ˆå®ç°
- ä¿®æ”¹åè¿è¡Œä»£ç æ ¼å¼åŒ–ï¼ˆpnpm formatï¼‰ã€ç±»å‹æ£€æŸ¥ï¼ˆpnpm type-checkï¼‰

**ç»å¯¹ç¦æ­¢**ï¼š

- âŒ æäº¤ä»£ç ï¼ˆé™¤éç”¨æˆ·æ˜ç¡®è¦æ±‚ï¼‰
- å¯åŠ¨å¼€å‘æœåŠ¡å™¨

## ğŸš¨ é˜¶æ®µåˆ‡æ¢è§„åˆ™

1. **é»˜è®¤é˜¶æ®µ**ï¼šæ”¶åˆ°æ–°é—®é¢˜æ—¶ï¼Œå§‹ç»ˆä»ã€åˆ†æé—®é¢˜ã€‘å¼€å§‹
2. **åˆ‡æ¢æ¡ä»¶**ï¼šåªæœ‰ç”¨æˆ·æ˜ç¡®æŒ‡ç¤ºæ—¶æ‰èƒ½åˆ‡æ¢é˜¶æ®µ
3. **ç¦æ­¢è¡Œä¸º**ï¼šä¸å…è®¸åœ¨ä¸€æ¬¡å›å¤ä¸­åŒæ—¶è¿›è¡Œä¸¤ä¸ªé˜¶æ®µ

## âš ï¸ æ¯æ¬¡å›å¤å‰çš„å¼ºåˆ¶æ£€æŸ¥

```
â–¡ æˆ‘åœ¨å›å¤å¼€å¤´å£°æ˜äº†é˜¶æ®µå—ï¼Ÿ
â–¡ æˆ‘çš„è¡Œä¸ºç¬¦åˆå½“å‰é˜¶æ®µå—ï¼Ÿ
â–¡ å¦‚æœè¦åˆ‡æ¢é˜¶æ®µï¼Œç”¨æˆ·åŒæ„äº†å—ï¼Ÿ
```

---

# CLAUDE.md

This file provides guidance to Claude Code (claude.ai/code) when working with code in this repository.

## Project Overview

This is a Logistics Transport Management System built with React 19, TypeScript, and Vite. The project is designed for logistics companies to manage transport orders, track financial data, and analyze profit metrics. It uses a modern tech stack with TailwindCSS for styling, Ant Design for UI components, and Zustand for state management.

## Development Commands

### Package Management

- Uses **pnpm** as the package manager (specified in package.json)
- Install dependencies: `pnpm install`
- Add dependencies: `pnpm add <package>`
- Add dev dependencies: `pnpm add -D <package>`

### Core Development Commands

- **Development server**: `pnpm dev` - Starts Vite dev server with HMR
- **Build**: `pnpm build` - TypeScript compilation followed by Vite production build
- **Lint**: `pnpm lint` - Run ESLint on the entire codebase
- **Preview**: `pnpm preview` - Preview production build locally

### Code Quality

- **Format code**: Use Prettier (configured in `.prettierrc`)
- **Type checking**: TypeScript is configured with strict mode
- No test runner is currently configured

## Architecture Overview

### State Management Architecture

The application uses **Zustand with Immer middleware** for state management, organized into domain-specific stores:

- **authStore** (`src/stores/authStore.ts`): User authentication, login/logout, session persistence via localStorage
- **orderStore** (`src/stores/orderStore.ts`): Order CRUD operations, pagination, filtering, and order management
- **statisticsStore** (`src/stores/statisticsStore.ts`): Dashboard statistics, chart data for daily/weekly/monthly reports

Each store follows the pattern:

- State interfaces separate from action interfaces
- Immer middleware for immutable updates
- Async actions with loading/error states
- localStorage persistence where needed

### Mock Data System

The project includes a comprehensive mock data system in `src/mocks/`:

- **data.ts**: Generates 100 realistic orders with Chinese business logic (categories, cities, payment methods)
- **api.ts**: Complete mock API with delay simulation, pagination, filtering, and CRUD operations
- Mock API supports all business operations: authentication, order management, statistics, chart data

### Type System

Centralized TypeScript definitions in `src/types/index.ts`:

- **OrderInfo**: Core business entity with financial calculations (profit = revenue - expenses)
- **UserInfo**: User authentication with role-based access (admin/operator)
- **StatisticsData**: Dashboard metrics (daily/weekly/monthly/yearly profits)
- **API types**: Generic ApiResponse, PaginatedResponse, filtering interfaces

### Business Domain Logic

The system models Chinese logistics operations:

- **Order Management**: Categories (ç”µå­äº§å“, æœè£…é‹å¸½, etc.), Chinese cities, vehicle plate numbers
- **Financial Tracking**: Driver wages, loading fees, expected vs actual expenses, profit calculations
- **Payment Status Flow**: pending â†’ verified â†’ collected
- **Multi-role System**: Admin and operator roles with different permissions

### Styling Architecture

- **TailwindCSS v4.x** with Vite plugin integration
- **Ant Design v5** for UI components with React 19 compatibility patch
- TailwindCSS configured in `vite.config.ts`, imported in `src/index.css`

### Development Patterns

**Store Usage Pattern**:

```typescript
const { orders, isLoading, fetchOrders } = useOrderStore();
// Actions return boolean success for UI feedback
const success = await createOrder(orderData);
```

**Mock API Pattern**:

```typescript
// All mock APIs return ApiResponse<T> with success/error handling
const response = await mockApi.getOrders(pagination, filters);
if (response.success) {
  /* handle data */
}
```

**Constants Usage**:

```typescript
// Use constants for business logic, not magic strings
import { PAYMENT_STATUS, CATEGORIES } from '../constants';
```

## Key Integration Points

### React 19 Compatibility

- Uses `@ant-design/v5-patch-for-react-19` for Ant Design compatibility
- React Router v7 configured for React 19 features

### Data Flow

1. Components consume Zustand stores
2. Stores call mock API functions
3. Mock API returns realistic business data
4. State updates trigger UI re-renders

### Build Configuration

- Vite with React and TailwindCSS plugins
- TypeScript with strict configuration
- ESLint with React hooks and refresh plugins

## File Structure Significance

- **src/stores/**: Domain-driven state management (auth, orders, statistics)
- **src/mocks/**: Complete mock backend with realistic Chinese business data
- **src/types/**: Centralized TypeScript definitions for the entire application
- **src/constants/**: Business constants (payment statuses, categories, cities, routes)
- **src/pages/**: Feature-based page components (Login, Dashboard, Orders, Reports)
- **src/components/**: Reusable UI components organized by type (Layout, Forms, Charts, Common)
